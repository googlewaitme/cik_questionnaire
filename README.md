### Установка

1) Установка пакетов
	``` 
	sudo apt-get install git python3 python3-pip
	```
2) Копирование репозитория
	```
	git clone https://github.com/googlewaitme/cik_questionnaire.git
	```

3) Установка библиотек с виртуальным окружением
	```
	pip3 install virtualenv
	virtualenv env
	source env/bin/activate
	pip3 install -r requirements.txt
	```
	Без виртуального окружения
	```
	pip3 install -r requirements.txt
	```

### Базовый запуск
Все команды выполняются в корне проекта

1) Удалить output.csv(Чат-бот разрабатывался на linux и могут возникать проблемы с кодировками при первом запуске на windows)
2) Настроить .env файл, указать BOT_TOKEN и ADMINS
	1. Поле BOT_TOKEN мы получаем через чат-бота BotFather. 
	```
	BOT_TOKEN=123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11
	```
	2. Получать свой telegram id, можно через чат-бота @getmyid_bot. Можно указать несколько id через запятную: 
	```
	ADMINS=123456,789123,456789
	
	или просто один айди
	
	ADMINS=123456
	```
3) Запустить программу без виртуального окружения

	```
	python3 app.py
	```
	Запуск с виртуальным окружением
	```
	source env/bin/activate
	python3 app.py
	```


### Утилиты
Команды для утилит нужно запускать из корня проекта.

1. **Создание токенов** - как параметр требует количество УИКов, после нужно будет ввести имя каждого УИКа. Имена должны быть уникальными, чтобы можно было отличить УИКи. Также создаётся файл logins.csv, после копирования данных, его нужно удалить.
	```
	python3 utils/generate_logins.py
	```
2. **Удаление всех токенов и аутентификаций** - удаляет как все токены, которые существовали, так и аутентификации. Вследсвие, аккаунты, у которых был доступ к чат-боту, потеряет к нему доступ. При вызове требует подтверждение при вводе.
	```
	python3 utils/delete_all_logins.py
	```
	
### Рекомендуемый софт

1. **DB browser** - для взаимодействия с базой данных. [https://sqlitebrowser.org/](https://sqlitebrowser.org/ "DB browser")
